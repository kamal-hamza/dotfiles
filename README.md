# Dotfiles

Cross-platform dotfiles managed with [chezmoi](https://www.chezmoi.io/).

## Features

- **Cross-platform**: Supports macOS (Homebrew) and Arch Linux (pacman/AUR)
- **Theme system**: Consistent dark/light themes across all applications
- **Minimal setup**: Simple zsh configuration with essential plugins
- **Custom scripts**: Useful scripts for project management, tmux, and Docker

## Installation

### First time setup

```bash
# Install chezmoi (if not installed)
sh -c "$(curl -fsLS get.chezmoi.io)"

# Initialize with this repository
chezmoi init https://github.com/kamal-hamza/dotfiles.git

# Apply dotfiles (uses dark theme by default)
chezmoi apply
```

### Using a specific theme

You can choose between light and dark themes during installation:

```bash
# Apply with dark theme (default)
chezmoi apply

# Apply with light theme
chezmoi apply --promptString theme=light

# Apply with dark theme (explicit)
chezmoi apply --promptString theme=dark
```

To change the default theme, edit `.chezmoidata/theme.yaml` in your chezmoi source directory:

```yaml
theme: "dark"  # or "light"
```

## What's Included

### Applications

- **Editor**: Neovim, Zed
- **Terminal**: WezTerm with tmux
- **Shell**: Zsh with autosuggestions, syntax highlighting, and autopair
- **Tools**: fzf, tldr, git, obsidian, ChatGPT

### Fonts

- **Liga SFMono Nerd Font**: Monospace font with ligatures and nerd font icons
  - Installed automatically via Homebrew tap on macOS
  - Used in all terminal applications and editors

### Custom Scripts

All scripts are available in your PATH after running `chezmoi apply`:

- `ccp` - Create a new project with common structure
- `dcp` - Delete a project
- `tt` - Quick tmux session management
- `m` - Man pages with TLDR fallback
- `dr` - Run Docker containers
- `ds` - Stop Docker containers
- `theme-gen` - Generate theme files for all applications
- `theme` - Switch between dark/light themes

### Theme System

The theme system generates consistent color schemes across:
- WezTerm
- Tmux
- Zsh
- Zed

**Switch themes:**
```bash
theme dark          # Switch to dark theme
theme light         # Switch to light theme
theme toggle        # Toggle between themes
theme status        # Show current theme
```

**Regenerate theme files:**
```bash
theme-gen all       # Generate both dark and light themes
theme-gen dark      # Generate only dark theme
theme-gen light     # Generate only light theme
```

## Package Management

### Adding packages

Edit `.chezmoidata/packages.yaml`:

```yaml
packages:
  darwin:
    taps:
      - homebrew/cask-fonts
    brews:
      - neovim
    casks:
      - docker
  arch:
    pacman:
      - docker
    aur:
      - visual-studio-code-bin
```

Then apply:
```bash
chezmoi apply
```

### Homebrew Taps

You can add third-party Homebrew taps to install packages not in the main repository:

```yaml
packages:
  darwin:
    taps:
      - shaunsingh/SFMono-Nerd-Font-Ligaturized
```

The tap will be added automatically before installing packages.

## Configuration

### Zsh

- Config location: `~/.config/zsh/`
- Aliases: `~/.config/zsh/aliases.zsh`
- Theme: Loaded from `~/.config/zsh/themes/soft-focus-{dark,light}.zsh`

### Tmux

- Config location: `~/.tmux.conf`
- Prefix key: `Ctrl+s` (instead of default `Ctrl+b`)
- Theme: Inline in tmux.conf, regenerated by chezmoi

### WezTerm

- Config location: `~/.config/wezterm/wezterm.lua`
- Themes: `~/.config/wezterm/themes/soft-focus-{dark,light}.lua`

### Zed

- Config location: `~/.config/zed/settings.json`
- Themes: `~/.config/zed/themes/soft-focus-{dark,light}.json`

## Updating

```bash
# Update dotfiles from repository
chezmoi update

# Or manually
cd ~/.local/share/chezmoi
git pull
chezmoi apply
```

## Structure

```
~/.local/share/chezmoi/
├── .chezmoidata/
│   ├── packages.yaml       # Package definitions
│   └── theme.yaml          # Default theme setting
├── dot_config/
│   ├── zsh/                # Zsh configuration
│   ├── tmux/               # Tmux themes
│   ├── wezterm/            # WezTerm configuration
│   ├── zed/                # Zed editor configuration
│   └── nvim/               # Neovim configuration
├── scripts/                # Custom scripts
├── theme-generators/       # Theme generation scripts
└── run_onchange_*.sh.tmpl  # Package installers
```

## License

MIT
