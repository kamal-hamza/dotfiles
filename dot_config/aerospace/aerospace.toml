# AeroSpace Configuration
# Soft Focus Theme - macOS Tiling Window Manager
# Documentation: https://github.com/nikitabobko/AeroSpace

# ====================================
# GENERAL SETTINGS
# ====================================

# Start AeroSpace at login
start-at-login = false

# Normalizations. See: https://nikitabobko.github.io/AeroSpace/guide#normalization
enable-normalization-flatten-containers = true
enable-normalization-opposite-orientation-for-nested-containers = true

# See: https://nikitabobko.github.io/AeroSpace/guide#layouts
# The 'accordion-padding' specifies the size of accordion padding
# You can set 0 to disable the padding feature
accordion-padding = 30

# Possible values: tiles|accordion
default-root-container-layout = 'tiles'

# Possible values: horizontal|vertical|auto
# 'auto' means: wide monitor (anything wider than high) gets horizontal orientation,
#               tall monitor (anything higher than wide) gets vertical orientation
default-root-container-orientation = 'auto'

# Mouse follows focus when focused monitor changes
# Drop it from your config, if you don't like this behavior
# See https://nikitabobko.github.io/AeroSpace/guide#on-focus-changed-callbacks
# See https://nikitabobko.github.io/AeroSpace/commands#move-mouse
on-focused-monitor-changed = ['move-mouse monitor-lazy-center']

# Gaps between windows (inner-*) and between monitor edges (outer-*).
# Possible values:
# - Constant:     gaps.outer.top = 8
# - Per monitor:  gaps.outer.top = [{ monitor.main = 16 }, { monitor."some-pattern" = 32 }, 8]
#                 In this example, 8 is a default value when there is no match.
#                 Monitor pattern is the same as for 'workspace-to-monitor-force-assignment'.
# See: https://nikitabobko.github.io/AeroSpace/guide#gaps
[gaps]
inner.horizontal = 5
inner.vertical =   5
outer.left =       5
outer.bottom =     5
outer.top =        5
outer.right =      5

# ====================================
# KEYBINDINGS - Mirroring Hyprland
# ====================================
# Main modifier key (Cmd/Super)
# Format: <binding> = <command>

[mode.main.binding]

# ====================================
# APPLICATION LAUNCHERS
# ====================================
# Mirroring Hyprland's Super+Q, W, E, R, A
cmd-q = 'exec-and-forget open -a WezTerm'                    # Terminal
cmd-w = 'exec-and-forget open -a Zed'                        # Editor
cmd-e = 'exec-and-forget open -a Firefox'                    # Browser
cmd-r = 'exec-and-forget open -a Finder'                     # File Manager
cmd-a = 'exec-and-forget open -a WezTerm'                    # Alternative terminal
cmd-space = 'exec-and-forget open -a Raycast'                # Launcher (macOS: Raycast/Alfred)
alt-space = 'exec-and-forget open -a Raycast'                # Alternative launcher binding

# Close window (Hyprland: Super+X)
cmd-x = 'close'

# ====================================
# FOCUS MANAGEMENT
# ====================================
# Move focus with arrow keys (Hyprland: Super+arrows)
cmd-left = 'focus left'
cmd-down = 'focus down'
cmd-up = 'focus up'
cmd-right = 'focus right'

# Alternative: Vim-style focus (h,j,k,l)
cmd-h = 'focus left'
cmd-j = 'focus down'
cmd-k = 'focus up'
cmd-l = 'focus right'

# ====================================
# WINDOW MOVEMENT
# ====================================
# Move windows (Hyprland: Super+Shift+arrows)
cmd-shift-left = 'move left'
cmd-shift-down = 'move down'
cmd-shift-up = 'move up'
cmd-shift-right = 'move right'

# Alternative: Vim-style movement
cmd-shift-h = 'move left'
cmd-shift-j = 'move down'
cmd-shift-k = 'move up'
cmd-shift-l = 'move right'

# ====================================
# WORKSPACE SWITCHING
# ====================================
# Switch to workspace (Hyprland: Super+[0-9])
cmd-1 = 'workspace 1'
cmd-2 = 'workspace 2'
cmd-3 = 'workspace 3'
cmd-4 = 'workspace 4'
cmd-5 = 'workspace 5'
cmd-6 = 'workspace 6'
cmd-7 = 'workspace 7'
cmd-8 = 'workspace 8'
cmd-9 = 'workspace 9'
cmd-0 = 'workspace 10'

# ====================================
# MOVE WINDOW TO WORKSPACE
# ====================================
# Move window to workspace (Hyprland: Super+Shift+[0-9])
cmd-shift-1 = 'move-node-to-workspace 1'
cmd-shift-2 = 'move-node-to-workspace 2'
cmd-shift-3 = 'move-node-to-workspace 3'
cmd-shift-4 = 'move-node-to-workspace 4'
cmd-shift-5 = 'move-node-to-workspace 5'
cmd-shift-6 = 'move-node-to-workspace 6'
cmd-shift-7 = 'move-node-to-workspace 7'
cmd-shift-8 = 'move-node-to-workspace 8'
cmd-shift-9 = 'move-node-to-workspace 9'
cmd-shift-0 = 'move-node-to-workspace 10'

# ====================================
# LAYOUT MANAGEMENT
# ====================================
# Toggle between horizontal and vertical splits
cmd-v = 'layout v_accordion'  # Vertical split
cmd-b = 'layout h_accordion'  # Horizontal split (b for "beside")

# Toggle between tiling and floating
cmd-f = 'layout floating tiling'  # Toggle floating

# Fullscreen toggle
cmd-m = 'fullscreen'

# ====================================
# WINDOW SIZING
# ====================================
# Resize mode (similar to i3/Hyprland resize mode)
cmd-d = 'mode resize'

# ====================================
# WORKSPACE-TO-MONITOR ASSIGNMENT
# ====================================
# Assign workspaces to specific monitors if needed
# See: https://nikitabobko.github.io/AeroSpace/guide#assign-workspaces-to-monitors
# [[workspace-to-monitor-force-assignment]]
# workspace = 1
# monitor = ['main']

# ====================================
# SERVICE MODE
# ====================================
# Service mode (for reloading/restarting)
cmd-shift-c = 'reload-config'
cmd-shift-q = 'close-all-windows-but-current'

# See: https://nikitabobko.github.io/AeroSpace/commands#workspace-back-and-forth
cmd-tab = 'workspace-back-and-forth'
# See: https://nikitabobko.github.io/AeroSpace/commands#move-workspace-to-monitor
cmd-shift-tab = 'move-workspace-to-monitor --wrap-around next'

# ====================================
# RESIZE MODE
# ====================================
[mode.resize.binding]
# Resize with arrow keys
left = 'resize smart -50'
down = 'resize smart +50'
up = 'resize smart -50'
right = 'resize smart +50'

# Vim-style resize
h = 'resize smart -50'
j = 'resize smart +50'
k = 'resize smart -50'
l = 'resize smart +50'

# Exit resize mode
enter = 'mode main'
esc = 'mode main'

# ====================================
# APPLICATION-SPECIFIC RULES
# ====================================
# See: https://nikitabobko.github.io/AeroSpace/guide#callbacks

# Float system preferences and settings
[[on-window-detected]]
if.app-id = 'com.apple.systempreferences'
run = 'layout floating'

[[on-window-detected]]
if.app-id = 'com.apple.systemsettings'
run = 'layout floating'

# Float calculator
[[on-window-detected]]
if.app-id = 'com.apple.calculator'
run = 'layout floating'

# Float activity monitor
[[on-window-detected]]
if.app-id = 'com.apple.ActivityMonitor'
run = 'layout floating'

# Assign applications to specific workspaces
# [[on-window-detected]]
# if.app-id = 'com.microsoft.VSCode'
# run = 'move-node-to-workspace 2'

# [[on-window-detected]]
# if.app-id = 'org.mozilla.firefox'
# run = 'move-node-to-workspace 3'

# ====================================
# EXEC ON STARTUP
# ====================================
# Commands to run when AeroSpace starts
# exec-on-workspace-change = ['/bin/bash', '-c', 'sketchybar --trigger aerospace_workspace_change FOCUSED=$AEROSPACE_FOCUSED_WORKSPACE']

# ====================================
# SOFT FOCUS THEME COLORS
# ====================================
# Note: AeroSpace doesn't directly support custom colors for borders
# However, you can integrate with other tools like SketchyBar for visual feedback
# 
# Soft Focus Theme Colors (for reference/integration):
# - Primary (Active):   #067BC2
# - Secondary:          #67b7f5  
# - Background:         #050505 (dark) / #f5f5f5 (light)
# - Border Active:      #067BC2
# - Border Inactive:    #888888
