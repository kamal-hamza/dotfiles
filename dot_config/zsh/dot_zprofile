# =============================================================================
# Simple Cross-Platform Zsh Profile
# =============================================================================

# -----------------------------------------------------------------------------
# Helper Functions
# -----------------------------------------------------------------------------
path_if_exists() {
  [[ -d "$1" ]] && export PATH="$1:$PATH"
}

# -----------------------------------------------------------------------------
# Editor
# -----------------------------------------------------------------------------
export EDITOR="nvim"
export VISUAL="nvim"

# -----------------------------------------------------------------------------
# PATH Configuration
# -----------------------------------------------------------------------------
path_if_exists "$HOME/.local/bin"
path_if_exists "$HOME/.cargo/bin"

# -----------------------------------------------------------------------------
# FZF Configuration
# -----------------------------------------------------------------------------
# Source Base16 theme for FZF
if [[ -f "$HOME/.config/fzf/theme.sh" ]]; then
  source "$HOME/.config/fzf/theme.sh"
fi

# FZF default options
export FZF_DEFAULT_OPTS="$FZF_DEFAULT_OPTS \
--border=rounded --height=40% --reverse --cycle \
--bind='tab:down,shift-tab:up'"

# Enable better command matching
if command -v fzf >/dev/null 2>&1; then
  export FZF_DEFAULT_COMMAND='find . -type f 2>/dev/null'
  export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
fi

# -----------------------------------------------------------------------------
# Development Tools Environment Variables
# -----------------------------------------------------------------------------
# Load machine-specific development tool configurations
# These files are NOT tracked by chezmoi - create them manually as needed
# Location: ~/.config/zsh/dev-tools/

if [[ -d "$HOME/.config/zsh/dev-tools" ]]; then
  for config in "$HOME/.config/zsh/dev-tools"/*.zsh; do
    [[ -r "$config" ]] && source "$config"
  done
fi
