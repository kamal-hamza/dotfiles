# MPD Configuration - Unix-like Systems (Linux, macOS, WSL, Cygwin/MSYS2)

# Using environment variables for better flexibility.
music_directory		"${XDG_MUSIC_DIR:-$HOME/Music}"
playlist_directory		"${XDG_DATA_HOME:-$HOME/.local/share}/mpd/playlists"
db_file			"${XDG_CACHE_HOME:-$HOME/.cache}/mpd/database"
log_file			"${XDG_DATA_HOME:-$HOME/.local/share}/mpd/log"
sticker_file			"${XDG_DATA_HOME:-$HOME/.local/share}/mpd/sticker.sql"

# Binding address:
# For Unix-like systems, a Unix domain socket is common.
# bind_to_address		"${XDG_RUNTIME_DIR:-/tmp}/mpd/socket"
# Or use TCP/IP binding if preferred (e.g., if MPD and ncmpcpp are on different machines).
bind_to_address		"localhost" # Binds to 127.0.0.1 (IPv4 loopback)
# You should pick *one* bind_to_address that suits your setup.

port				"6600"
log_level			"notice"
restore_paused "yes"
save_absolute_paths_in_playlists	"yes"
metadata_to_use	"artist,album,title,track,name,genre,date,composer,performer,disc"
auto_update	"yes"
auto_update_depth "3"
follow_outside_symlinks	"no"
follow_inside_symlinks		"no"
replaygain			"track"
filesystem_charset		"UTF-8"

# Audio Outputs:

# PipeWire Output (Linux only)
audio_output {
    type "pipewire"
    name "PipeWire Sound Server"
}

# FIFO Output (for ncmpcpp visualizer)
audio_output {
    type "fifo"
    name "Visualizer feed"
    path "/tmp/mpd.fifo"
    format "44100:16:2"
}
